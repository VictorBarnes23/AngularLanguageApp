<div class="container home">
    
    <div class="row">
        <div class="col-4">
            
            <span style="display: flex; flex-direction: row; margin-bottom: 2%;">

                @if(liveStreaming){
                    <button type="button" class="btn btn-secondary" (click)="StartStreaming()">{{liveStreaming ? 'Stop streaming' : 'Start streaming'}}</button>

                }
                @else {
                    <button type="button" class="btn btn-primary" (click)="StartStreaming()">{{liveStreaming ? 'Stop streaming' : 'Start streaming'}}</button>
                }
                
                <button type="button" class="btn btn-outline-secondary" style="margin-left: 10px;" (click)="ClearResults()" [disabled]="!(speechService.speechResultList.length > 1)">Clear Results</button>
            </span>

            <!-- bubble design -->
            @for (sentence of speechService.speechResultList; track $index) {
                <div  class="speech-bubble-shadow">
                    <p>
                        @if (sentence.split(' ').length > 1){
                            @for (item of sentence.split(' '); track $index) {
                                @if(item.length > 6){
                                    
                                    <!-- specialized word -->
                                    @if(item.includes("-")){
                                        <a (click)="DisplayWordCombo(item)">
                                            <span class="hyper-word-combo hover-demo">{{item}}</span>
                                        </a>
                                    }
                                    @else {
                                        <a (click)="DisplayWord(item)">
                                            <span class="hyper-word hover-demo">{{item}}</span>
                                        </a>
                                    }
                                    
                                }
                                @else {
                                    <span class="regular-word">{{item}}</span>
                                }
                                <span>&nbsp;</span>
                            }
                        }
                    </p>
                    <div class="speech-bubble-shadow__arrow"></div>

                </div>
            }
        </div>
        
        <div class="col-3"></div>
        <div class="col-4 p-5 bg-info bg-opacity-10 border border-info border-start-5 rounded-start rounded-end">
            <p style="text-align: center;">Definitions</p>
            <h3>{{selectedWord}} </h3>
            <br>
            <p>{{selectedDef}}</p>
            <br>
            <p style="font-style: italic">{{selectedPron}}</p>
            
            @if(selectedWord.length > 0){
                <div class="d-grid gap-2 col-6 mx-auto">
                    <button type="button" (click)="AddFav()" class="btn btn-outline-success"><i class="bi bi-star"> Save</i></button>
                </div>
            }

        </div>

    </div>
    
</div>